<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh toán</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- External CSS -->
    <link rel="stylesheet" href="../css/payment.css">
</head>
<body>
    <div class="container my-5">
        <h2 class="text-center mb-4">Thanh toán</h2>
        
        <!-- Thông tin khách hàng và địa chỉ nhận hàng -->
        <div class="row mb-3">
            <!-- Thông tin khách hàng -->
            <div class="col-md-6">
                <div class="card p-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5>Thông tin khách hàng</h5>
                        <button class="btn btn-link p-0" onclick="editCustomerInfo()">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                    <ul class="list-unstyled mb-0">
                        <li><strong>Họ tên:</strong> <span id="customer-name-display">Nguyễn Văn A</span></li>
                        <li><strong>Số điện thoại:</strong> <span id="customer-phone-display">0123 456 789</span></li>
                        <li><strong>Email:</strong> <span id="customer-email-display">nguyenvana@example.com</span></li>
                    </ul>
                </div>
            </div>
    
            <!-- Địa chỉ nhận hàng -->
            <div class="col-md-6">
                <div class="card p-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5>Địa chỉ nhận hàng</h5>
                        <button class="btn btn-link p-0" onclick="editShippingAddress()">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                    <p id="shipping-address-display" class="mb-0">137 Trần Văn Ơn, Quận 9, TP.HCM</p>
                </div>
            </div>
        </div>
    
        <!-- Form chỉnh sửa thông tin khách hàng (ẩn mặc định) -->
        <div class="card p-4 mb-3 d-none" id="edit-customer-form">
            <h5>Chỉnh sửa thông tin khách hàng</h5>
            <form>
                <div class="mb-3">
                    <label for="customer-name" class="form-label">Họ tên</label>
                    <input type="text" id="customer-name" class="form-control" value="Nguyễn Văn A">
                </div>
                <div class="mb-3">
                    <label for="customer-phone" class="form-label">Số điện thoại</label>
                    <input type="text" id="customer-phone" class="form-control" value="0123 456 789">
                </div>
                <div class="mb-3">
                    <label for="customer-email" class="form-label">Email</label>
                    <input type="email" id="customer-email" class="form-control" value="nguyenvana@example.com">
                </div>
                <button type="button" class="btn btn-success" onclick="saveCustomerInfo()">Lưu</button>
            </form>
        </div>
    
        <!-- Form chỉnh sửa địa chỉ nhận hàng (ẩn mặc định) -->
        <div class="card p-4 mb-3 d-none" id="edit-address-form">
            <h5>Chỉnh sửa địa chỉ nhận hàng</h5>
            <form>
                <div class="mb-3">
                    <label for="shipping-address" class="form-label">Địa chỉ</label>
                    <input type="text" id="shipping-address" class="form-control" value="137 Trần Văn Ơn, Quận 9, TP.HCM">
                </div>
                <button type="button" class="btn btn-success" onclick="saveShippingAddress()">Lưu</button>
            </form>
        </div>

        <!-- Bảng sản phẩm -->
        <table class="table table-bordered align-middle">
            <thead class="table-secondary">
                <tr>
                    <th>STT</th>
                    <th>Sản phẩm</th>
                    <th>Kích thước</th>
                    <th>Đơn giá</th>
                    <th>Số lượng</th>
                    <th>Thành tiền</th>
                </tr>
            </thead>
            <tbody id="product-list">
                <!-- Sản phẩm mẫu -->
                <tr>
                    <td>1</td>
                    <td>
                        <img src="../image/imghomepage/product/product_danhmuc/theo_danh_muc/banh_bento/BBT03.png" alt="Bánh Xoài Chanh Leo" class="img-fluid rounded" style="max-width: 80px;">
                        <span class="ms-2">Bánh Xoài Chanh Leo</span>
                    </td>
                    <td>16cm</td>
                    <td>480,000₫</td>
                    <td>
                        <input type="number" class="form-control text-center quantity-input" value="2" min="1" onchange="updateSubtotal(this)">
                    </td>
                    <td class="subtotal">960,000₫</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>
                        <img src="../image/imghomepage/product/product_danhmuc/theo_danh_muc/mau_be_trai/BT04.png" alt="Bánh Ô Tô Màu Vàng" class="img-fluid rounded" style="max-width: 80px;">
                        <span class="ms-2">Bánh Ô Tô Màu Vàng</span>
                    </td>
                    <td>18cm</td>
                    <td>520,000₫</td>
                    <td>
                        <input type="number" class="form-control text-center quantity-input" value="1" min="1" onchange="updateSubtotal(this)">
                    </td>
                    <td class="subtotal">520,000₫</td>
                </tr>
            </tbody>
        </table>

        <!-- Tổng thanh toán và mã giảm giá -->
        <div class="card p-4">
            <h5>Thông tin thanh toán</h5>
            <div class="mb-3">
                <label for="discount-code" class="form-label">Nhập mã giảm giá</label>
                <div class="input-group">
                    <input type="text" class="form-control" id="discount-code" placeholder="Nhập mã giảm giá">
                    <button class="btn btn-outline-secondary" onclick="applyDiscount()">Áp dụng</button>
                </div>
            </div>
            <p>Tổng tiền hàng: <span id="total-price">1,480,000₫</span></p>
            <p>Phí vận chuyển: <span>Miễn phí</span></p>
            <p><strong>Tổng thanh toán: <span id="final-price">1,480,000₫</span></strong></p>
        </div>
        
        <button class="btn btn-success btn-lg mt-3" onclick="confirmOrder()">Đặt hàng</button>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- External JS -->
    <script src="../js/payment.js"></script>
</body>
</html>
